http://sourceware.org/ml/gdb-patches/2018-03/msg00635.html
Subject: [patch] Fix gdb/doc/ PDF build on Fedora Rawhide==F-29


--2fHTh5uZTiUOsy+g
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Hi,

on Fedora Rawhide==F-29 PDF build fails with:
	https://kojipkgs.fedoraproject.org//work/tasks/2102/26052102/build.log
	texi2dvi --pdf  -I ../../../gdb/doc/../mi -I ../../../gdb/doc \
		../../../gdb/doc/gdb.texinfo
	! I can't find file `texinfo.tex'.

TBH I do not see how the file could be found in earlier versions.  Also both
F-29 and F-28 have texinfo-tex-6.5-3.fc28.x86_64 while in F-28 it still builds
fine but in F-29 it does not - so apparently it depends on some other package.

But I did not investigate why as IMO the patch below is a logical one.

OK for check-in?


Jan

--2fHTh5uZTiUOsy+g
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline; filename="gdb-texinfo-path.patch"

gdb/ChangeLog
2018-03-31  Jan Kratochvil  <jan.kratochvil@redhat.com>

	* doc/Makefile.in (TEXI2DVI): Add $(SET_TEXINPUTS).

diff --git a/gdb/doc/Makefile.in b/gdb/doc/Makefile.in
index 0323bc4ecb..fa745b3542 100644
--- a/gdb/doc/Makefile.in
+++ b/gdb/doc/Makefile.in
@@ -63,7 +63,7 @@ MAKEHTMLFLAGS =
 TEXI2ROFF=texi2roff
 
 # where to find texi2dvi, ditto
-TEXI2DVI=texi2dvi
+TEXI2DVI=$(SET_TEXINPUTS) texi2dvi
 
 # Package to install the docs under
 PACKAGE = @PACKAGE@
-- 
2.17.0.rc1


--2fHTh5uZTiUOsy+g--

