http://sourceware.org/ml/gdb-patches/2011-05/msg00010.html
Subject: [patch 4/3] readline-6.2: Substitute inc-hist.texinfo

Hi,

forgot the patchset had a `make doc' regression:
make: *** No rule to make target `../../../gdb/doc/../../readline/doc/inc-hist.texinfo', needed by `gdb.info'.  Stop.

There was a copy hsuser.texi -> inc-hist.texinfo before with this diff:
	@@ -26,9 +26,9 @@ into another language, under the above c
	 @node Using History Interactively
	 @chapter Using History Interactively
	 
	-@ifclear BashFeatures
	-@defcodeindex bt
	-@end ifclear
	+@c @ifclear BashFeatures
	+@c @defcodeindex bt
	+@c @end ifclear
	 
	 @ifset BashFeatures
	 This chapter describes how to use the @sc{gnu} History Library
	@@ -39,9 +39,9 @@ see the @sc{gnu} Readline Library Manual
	 @end ifset
	 @ifclear BashFeatures
	 This chapter describes how to use the @sc{gnu} History Library interactively,
	-from a user's standpoint.  It should be considered a user's guide.  For
	-information on using the @sc{gnu} History Library in your own programs,
	-@pxref{Programming with GNU History}.
	+from a user's standpoint.  It should be considered a user's guide.
	+For information on using the @sc{gnu} History Library in other programs,
	+see the @sc{gnu} Readline Library Manual.
	 @end ifclear
	 
	 @ifset BashFeatures

Used slightly alternative one with IMO better reference and I have also kept
hsuser.texi in place as readline/ in src/ is no longer a standalone readline
distribution anyway.


Sorry,
Jan


gdb/doc/
2011-05-02  Jan Kratochvil  <jan.kratochvil@redhat.com>

	* Makefile.in (GDB_DOC_SOURCE_INCLUDES): Rename inc-hist.texinfo to
	hsuser.texi.
	* gdb.texinfo <!SYSTEM_READLINE>: Rename inc-hist.texinfo inclusion and
	comment to hsuser.texi.  Change rluser.texi name in the comment.

readline/doc/
2011-05-02  Jan Kratochvil  <jan.kratochvil@redhat.com>

	* hsuser.texi (Using History Interactively): Disable !BashFeatures
	@defcodeindex.  Make the `Programming with GNU History' reference
	external.

--- a/gdb/doc/Makefile.in
+++ b/gdb/doc/Makefile.in
@@ -117,7 +117,7 @@ GDB_DOC_SOURCE_INCLUDES = \
 	$(srcdir)/gpl.texi \
 	$(srcdir)/agentexpr.texi \
 	$(READLINE_DIR)/rluser.texi \
-	$(READLINE_DIR)/inc-hist.texinfo
+	$(READLINE_DIR)/hsuser.texi
 GDB_DOC_BUILD_INCLUDES = \
 	gdb-cfg.texi \
 	GDBvn.texi
--- a/gdb/doc/gdb.texinfo
+++ b/gdb/doc/gdb.texinfo
@@ -31008,13 +31008,13 @@ things without first using the debugger to find the facts.
 
 @c The readline documentation is distributed with the readline code
 @c and consists of the two following files:
-@c     rluser.texinfo
-@c     inc-hist.texinfo
+@c     rluser.texi
+@c     hsuser.texi
 @c Use -I with makeinfo to point to the appropriate directory,
 @c environment var TEXINPUTS with TeX.
 @ifclear SYSTEM_READLINE
 @include rluser.texi
-@include inc-hist.texinfo
+@include hsuser.texi
 @end ifclear
 
 
--- a/readline/doc/hsuser.texi
+++ b/readline/doc/hsuser.texi
@@ -26,9 +26,10 @@ into another language, under the above conditions for modified versions.
 @node Using History Interactively
 @chapter Using History Interactively
 
-@ifclear BashFeatures
-@defcodeindex bt
-@end ifclear
+@c GDB bundling modification:
+@c @ifclear BashFeatures
+@c @defcodeindex bt
+@c @end ifclear
 
 @ifset BashFeatures
 This chapter describes how to use the @sc{gnu} History Library
@@ -41,7 +42,8 @@ see the @sc{gnu} Readline Library Manual.
 This chapter describes how to use the @sc{gnu} History Library interactively,
 from a user's standpoint.  It should be considered a user's guide.  For
 information on using the @sc{gnu} History Library in your own programs,
-@pxref{Programming with GNU History}.
+@c GDB bundling modification:
+@pxref{Programming with GNU History, , , history, GNU History Library}.
 @end ifclear
 
 @ifset BashFeatures

